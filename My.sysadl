Model SysADLModel ; package SysADL.types { value type Int { } value type Boolean { } value type String { } value type Void { } value type Real { } enum StatusPedido { EM_PRODUCAO , PENDENTE , PRONTO , ENTREGUE } enum TipoProduto { PRONTO , PREPARADO } datatype Cliente { attributes : id : String ; nome : String ; senha : Int ; saldoContra : Real ; } datatype Pulseira { attributes : id : String ; ativo : Boolean ; contaClienteId : Int ; } datatype Pedido { attributes : id : String ; itens : ItemPedido ; status : StatusPedido ; qrCode : String ; numeroOrdem : Int ; } datatype ItemPedido { attributes : quantidade : Int ; produto : Produto ; } datatype Produto { attributes : id : String ; nome : String ; preco : Real ; tipo : TipoProduto ; } datatype Recarga { attributes : Valor : Int ; contaClienteId : Int ; } } package ArenaConnectors { import ArenaPorts ; connector def ConectorApiCliente { participants : ~ source : CadastroClienteOPT ; ~ destination : CadastroClienteIPT ; flows : Cliente from source to destination } connector def ConectorNotificacao { participants : ~ source : NotificacaoStatusOPT ; ~ destination : NotificacaoStatusIPT ; flows : StatusPedido from source to destination } connector def ConectorApiPedido { participants : ~ source : EnvioPedidoOPT ; ~ destination : EnvioPedidoIPT ; flows : Pedido from source to destination } connector def ConectorRecarga { participants : ~ destination : RecargaIPT ; ~ newPort : RecargaOPT ; flows : Recarga from newPort to destination } connector def newElement { } connector def newElement { } } package ArenaComponents { import SysADL.types ; import ArenaConnectors ; import ArenaPorts ; boundary
	component def TerminalAutoatendimento { ports : pCadastro : CadastroClienteOPT ; pResposta : CadastroClienteIPT ; pRecarga : RecargaOPT ; } boundary
	component def TotemCompra { ports : pPedido : EnvioPedidoOPT ; pResposta : EnvioPedidoIPT ; }
	component def ArenaPaySystem { configuration { components : terminal1 : TerminalAutoatendimento { using ports : pCadastro : CadastroClienteOPT ; pResposta : CadastroClienteIPT ; } totem1 : TotemCompra { using ports : pPedido : EnvioPedidoOPT ; pResposta : EnvioPedidoIPT ; } Servidor : Servidor { using ports : apiCadastro : CadastroClienteIPT ; apiPedido : EnvioPedidoIPT ; apiResposta : RespostaIPT ; pNotificacao : NotificacaoStatusOPT ; } painel1 : PainelBalcaoEntrega { using ports : pRecebeStatus : NotificacaoStatusIPT ; } AplicativoCliente : AplicativoCliente { using ports : pRecarga : RecargaOPT ; } connectors : connCadastro : ConectorApiCliente bindings pCadastro = apiCadastro ; connPedido : ConectorApiPedido bindings pPedido = apiPedido ; connNotificacao : ConectorNotificacao bindings pNotificacao = pRecebeStatus ; connRecarga : ConectorRecarga bindings pRecarga = apiResposta ; } } boundary
	component def AplicativoCliente { ports : pRecarga : RecargaOPT ; }
	component def Servidor { ports : apiCadastro : CadastroClienteIPT ; apiPedido : EnvioPedidoIPT ; apiResposta : RespostaOPT ; pNotificacao : NotificacaoStatusOPT ; pRecarga : RecargaIPT ; } boundary
	component def MaquinaAutomatica { } boundary
	component def PainelBalcaoEntrega { ports : pRecebeStatus : NotificacaoStatusIPT ; } boundary
	component def GatewayPagamento { } } package ArenaPorts { import ArenaComponents ; import SysADL.types ; port def NotificacaoStatusOPT { flow out StatusPedido } port def NotificacaoStatusIPT { flow in StatusPedido } port def CadastroClienteIPT { flow in Cliente } port def CadastroClienteOPT { flow out Cliente } port def EnvioPedidoOPT { flow out Pedido } port def EnvioPedidoIPT { flow in Pedido } port def RespostaOPT { flow out Boolean } port def RespostaIPT { flow in Boolean } port def RecargaIPT { flow in Recarga } port def RecargaOPT { flow out Recarga } }